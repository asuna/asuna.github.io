<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Rapidleech架设&amp;Mega_co_nz下载插件 | 幻想驿站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="rapidleech是一款基于PHP的网盘中转程序(主要支持国外网盘)，使用rapidleech下载网盘中的文件后，可以获得一个该文件的链接，然后用户可以用该链接进行下载，如果搭建rapidleech的服务器够给力，下载速度必定比直接从网盘下载快很多~~~">
<meta property="og:type" content="article">
<meta property="og:title" content="Rapidleech架设&Mega_co_nz下载插件">
<meta property="og:url" content="http://blog.ainhaato.moe/setup-rapidleech-with-mega-plugin/">
<meta property="og:site_name" content="幻想驿站">
<meta property="og:description" content="rapidleech是一款基于PHP的网盘中转程序(主要支持国外网盘)，使用rapidleech下载网盘中的文件后，可以获得一个该文件的链接，然后用户可以用该链接进行下载，如果搭建rapidleech的服务器够给力，下载速度必定比直接从网盘下载快很多~~~">
<meta property="og:image" content="http://ww3.sinaimg.cn/large/cdfc40eajw1e7or651ylbj20km0fw0ur.jpg">
<meta property="og:image" content="http://ww4.sinaimg.cn/large/ce179fd8jw1e7or66d94zj20e40ezgnw.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/ce179fd8jw1e7or65qjlyj20ia0av402.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/ce0d98b2jw1e7or65tr9bj20jr0iyn02.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rapidleech架设&Mega_co_nz下载插件">
<meta name="twitter:description" content="rapidleech是一款基于PHP的网盘中转程序(主要支持国外网盘)，使用rapidleech下载网盘中的文件后，可以获得一个该文件的链接，然后用户可以用该链接进行下载，如果搭建rapidleech的服务器够给力，下载速度必定比直接从网盘下载快很多~~~">
<meta name="twitter:creator" content="@shmozi">

  
    <link rel="alternative" href="/atom.xml" title="幻想驿站" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link href='http://www.youziku.com/webfont/CSS/4114d670d55fae9bb2290e34a94ea24b' rel='stylesheet' type='text/css'/>
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <link rel="stylesheet" href="/mediaelement/mediaelementplayer.css" type="text/css">

  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">幻想驿站</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/links">Friends</a>
        
          <a class="main-nav-link" href="/guestbook">GuestBook</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://blog.ainhaato.moe"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-setup-rapidleech-with-mega-plugin" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/setup-rapidleech-with-mega-plugin/" class="article-date">
  <time datetime="2013-07-08T07:08:51.000Z" itemprop="datePublished">7月 8 2013</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Rapidleech架设&amp;Mega_co_nz下载插件
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>rapidleech是一款基于PHP的网盘中转程序(主要支持国外网盘)，使用rapidleech下载网盘中的文件后，可以获得一个该文件的链接，然后用户可以用该链接进行下载，如果搭建rapidleech的服务器够给力，下载速度必定比直接从网盘下载快很多~~~<a id="more"></a><br>rapidleech官网:<a title="http://www.rapidleech.com/" href="http://www.rapidleech.com/" target="_blank" rel="nofollow">http://www.rapidleech.com/</a><br>google code项目主页:<a title="http://code.google.com/p/rapidleech/" href="http://code.google.com/p/rapidleech/" target="_blank" rel="nofollow">http://code.google.com/p/rapidleech/</a></p>
<p><a title="rapidleech主页截图" href="http://ww3.sinaimg.cn/large/cdfc40eajw1e7or651ylbj20km0fw0ur.jpg" target="_blank" rel="external"><img class="alignnone size-full wp-image-75" title="rapidleech主页截图" alt="" src="http://ww3.sinaimg.cn/large/cdfc40eajw1e7or651ylbj20km0fw0ur.jpg" width="85%"></a></p>
<hr>

<p><strong>搭建过程：</strong><br>1.下载rapidleech主程序(部分人士可能不能上google code；下面放出百度网盘)<br>[dl value=”点击下载rapidleech”]<a href="http://pan.baidu.com/share/link?shareid=3414231263&amp;uk=2466846431[/dl" target="_blank" rel="external">http://pan.baidu.com/share/link?shareid=3414231263&amp;uk=2466846431[/dl</a>]</p>
<p>2.进入安装<br><a title="rapidleech安装过程-1" href="http://ww4.sinaimg.cn/large/ce179fd8jw1e7or66d94zj20e40ezgnw.jpg" target="_blank" rel="external"><img class="alignnone size-full wp-image-76" alt="rapidleech安装过程-1" src="http://ww4.sinaimg.cn/large/ce179fd8jw1e7or66d94zj20e40ezgnw.jpg" width="85%"></a></p>
<p><a title="rapidleech安装过程-2" href="http://ww1.sinaimg.cn/large/ce179fd8jw1e7or65qjlyj20ia0av402.jpg" target="_blank" rel="external"><img class="alignnone size-full wp-image-77" alt="rapidleech安装过程-3" src="http://ww1.sinaimg.cn/large/ce179fd8jw1e7or65qjlyj20ia0av402.jpg" width="85%"></a></p>
<p><a title="rapidleech安装过程-3" href="http://ww1.sinaimg.cn/large/ce0d98b2jw1e7or65tr9bj20jr0iyn02.jpg" target="_blank" rel="external"><img class="alignnone size-full wp-image-78" alt="rapidleech安装过程-3" src="http://ww1.sinaimg.cn/large/ce0d98b2jw1e7or65tr9bj20jr0iyn02.jpg" width="85%"></a></p>
<p>3.注意事项<br>至此安装完毕,但是可能有部分文件or文件夹需要设置下权限比如configs文件夹,files文件夹,还有个什么文件来着…..我忘了(一般linux下才会有这问题)</p>
<p><strong>添加mega.co.nz下载插件(暂无上传插件)</strong><br>进入rapidleech目录下的hosts\download目录新建一个mega_co_nz.php，将以下内容粘贴进去并保存即可<br><strong><span style="color: #ff0000;">注意:这个插件需要php的mcrypt模块</span></strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">&lt;?php</span></div><div class="line"><span class="keyword">if</span> (!defined(<span class="string">'RAPIDLEECH'</span>)) {</div><div class="line">	<span class="keyword">require_once</span>(<span class="string">'index.html'</span>);</div><div class="line">	<span class="keyword">exit</span>;</div><div class="line">}</div><div class="line"><span class="comment">// Using functions from: http://julien-marchand.fr/blog/using-the-mega-api-with-php-examples/</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">mega_co_nz</span> <span class="keyword">extends</span> <span class="title">DownloadClass</span> </span>{</div><div class="line">	<span class="keyword">private</span> <span class="variable">$seqno</span>;</div><div class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">Download</span><span class="params">(<span class="variable">$link</span>)</span> </span>{</div><div class="line">		<span class="keyword">if</span> (!extension_loaded(<span class="string">'mcrypt'</span>) || !function_exists(<span class="string">'mcrypt_decrypt'</span>) || !in_array(<span class="string">'rijndael-128'</span>, mcrypt_list_algorithms(), <span class="keyword">true</span>)) html_error(<span class="string">"Mcrypt module isn't installed or it doesn't have support for the needed encryption."</span>);</div><div class="line">		<span class="variable">$this</span>-&gt;RLCheck();</div><div class="line">		<span class="variable">$this</span>-&gt;seqno = mt_rand();</div><div class="line">		<span class="variable">$this</span>-&gt;changeMesg(lang(<span class="number">300</span>).<span class="string">'&lt;br /&gt;Mega.co.nz plugin by Th3-822'</span>); <span class="comment">// Please, do not remove or change this line contents. - Th3-822</span></div><div class="line"></div><div class="line">		<span class="keyword">if</span> (!preg_match(<span class="string">'@^!([^!]{8})!([\w\-\,]{43})$@i'</span>, parse_url(<span class="variable">$link</span>, PHP_URL_FRAGMENT), <span class="variable">$fid</span>)) html_error(<span class="string">'FileID or Key not found at link.'</span>);</div><div class="line"></div><div class="line">		<span class="variable">$reply</span> = <span class="variable">$this</span>-&gt;apiReq(<span class="keyword">array</span>(<span class="string">'a'</span> =&gt; <span class="string">'g'</span>, <span class="string">'g'</span> =&gt; <span class="string">'1'</span>, <span class="string">'p'</span> =&gt; <span class="variable">$fid</span>[<span class="number">1</span>], <span class="string">'ssl'</span>=&gt; <span class="string">'0'</span>));</div><div class="line">		<span class="keyword">if</span> (is_numeric(<span class="variable">$reply</span>[<span class="number">0</span>])) {</div><div class="line">			<span class="keyword">switch</span> (<span class="variable">$reply</span>[<span class="number">0</span>]) {</div><div class="line">				<span class="keyword">default</span>: <span class="variable">$msg</span> = <span class="string">'*No message for this error*'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">1</span>: <span class="variable">$msg</span> = <span class="string">'An internal error has occurred'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">2</span>: <span class="variable">$msg</span> = <span class="string">'You have passed invalid arguments to this command, your rapidleech is outdated?'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">3</span>: <span class="variable">$msg</span> = <span class="string">'A temporary congestion or server malfunction prevented your request from being processed'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">4</span>: <span class="variable">$msg</span> = <span class="string">'You have exceeded your command weight per time quota. Please wait a few seconds, then try again'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">9</span>: <span class="variable">$msg</span> = <span class="string">'File not found'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">11</span>: <span class="variable">$msg</span> = <span class="string">'Access violation'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">13</span>: <span class="variable">$msg</span> = <span class="string">'Trying to access an incomplete file'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">14</span>: <span class="variable">$msg</span> = <span class="string">'A decryption operation failed'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">16</span>: <span class="variable">$msg</span> = <span class="string">'User blocked'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">17</span>: <span class="variable">$msg</span> = <span class="string">'Request over quota'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="keyword">case</span> -<span class="number">18</span>: <span class="variable">$msg</span> = <span class="string">'File temporarily not available, please try again later'</span>;<span class="keyword">break</span>;</div><div class="line">				<span class="comment">// Confirmed at page:</span></div><div class="line">				<span class="keyword">case</span> -<span class="number">6</span>: <span class="variable">$msg</span> = <span class="string">'File not found, account was deleted'</span>;<span class="keyword">break</span>;</div><div class="line">			}</div><div class="line">			html_error(<span class="string">'[Error: '</span>.<span class="variable">$reply</span>[<span class="number">0</span>].<span class="string">"] $msg."</span>);</div><div class="line">		}</div><div class="line"></div><div class="line">		<span class="variable">$key</span> = <span class="variable">$this</span>-&gt;base64_to_a32(<span class="variable">$fid</span>[<span class="number">2</span>]);</div><div class="line">		<span class="variable">$iv</span> = array_merge(array_slice(<span class="variable">$key</span>, <span class="number">4</span>, <span class="number">2</span>), <span class="keyword">array</span>(<span class="number">0</span>, <span class="number">0</span>));</div><div class="line">		<span class="variable">$key</span> = <span class="keyword">array</span>(<span class="variable">$key</span>[<span class="number">0</span>] ^ <span class="variable">$key</span>[<span class="number">4</span>], <span class="variable">$key</span>[<span class="number">1</span>] ^ <span class="variable">$key</span>[<span class="number">5</span>], <span class="variable">$key</span>[<span class="number">2</span>] ^ <span class="variable">$key</span>[<span class="number">6</span>], <span class="variable">$key</span>[<span class="number">3</span>] ^ <span class="variable">$key</span>[<span class="number">7</span>]);</div><div class="line">		<span class="variable">$attr</span> = <span class="variable">$this</span>-&gt;dec_attr(<span class="variable">$this</span>-&gt;base64url_decode(<span class="variable">$reply</span>[<span class="number">0</span>][<span class="string">'at'</span>]), <span class="variable">$key</span>);</div><div class="line"></div><div class="line">		<span class="variable">$this</span>-&gt;RedirectDownload(<span class="variable">$reply</span>[<span class="number">0</span>][<span class="string">'g'</span>], <span class="variable">$attr</span>[<span class="string">'n'</span>], <span class="number">0</span>, <span class="number">0</span>, <span class="variable">$link</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">array</span>(<span class="string">'T8[fkey]'</span> =&gt; <span class="variable">$fid</span>[<span class="number">2</span>]));</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">RLCheck</span><span class="params">()</span> </span>{</div><div class="line">		<span class="keyword">if</span> (!function_exists(<span class="string">'cURL'</span>) || (!function_exists(<span class="string">'host_matchs'</span>) &amp;&amp; !function_exists(<span class="string">'host_matches'</span>)) || !function_exists(<span class="string">'GetDefaultParams'</span>)) html_error(<span class="string">"Your rapidleech version is outdated and it doesn't support this plugin."</span>);</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">apiReq</span><span class="params">(<span class="variable">$atrr</span>)</span> </span>{</div><div class="line">		<span class="keyword">if</span> (!function_exists(<span class="string">'json_encode'</span>)) html_error(<span class="string">'Error: Please enable JSON in php.'</span>);</div><div class="line">		<span class="variable">$page</span> = <span class="variable">$this</span>-&gt;GetPage(<span class="string">'https://g.api.mega.co.nz/cs?id='</span> . (<span class="variable">$this</span>-&gt;seqno++), <span class="number">0</span>, json_encode(<span class="keyword">array</span>(<span class="variable">$atrr</span>)), <span class="string">"https://mega.co.nz/\r\nContent-Type: application/json"</span>);</div><div class="line">		<span class="keyword">if</span> (strpos(<span class="variable">$page</span>, <span class="string">"\r\n\r\n-2"</span>) === (strlen(<span class="variable">$page</span>) - <span class="number">6</span>)) <span class="keyword">return</span> <span class="keyword">array</span>(-<span class="number">2</span>);</div><div class="line">		<span class="keyword">return</span> <span class="variable">$this</span>-&gt;Get_Reply(<span class="variable">$page</span>);</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">Get_Reply</span><span class="params">(<span class="variable">$content</span>)</span> </span>{</div><div class="line">		<span class="keyword">if</span> (!function_exists(<span class="string">'json_decode'</span>)) html_error(<span class="string">'Error: Please enable JSON in php.'</span>);</div><div class="line">		<span class="keyword">if</span> ((<span class="variable">$pos</span> = strpos(<span class="variable">$content</span>, <span class="string">"\r\n\r\n"</span>)) &gt; <span class="number">0</span>) <span class="variable">$content</span> = substr(<span class="variable">$content</span>, <span class="variable">$pos</span> + <span class="number">4</span>);</div><div class="line">		<span class="variable">$cb_pos</span> = strpos(<span class="variable">$content</span>, <span class="string">'{'</span>);</div><div class="line">		<span class="variable">$sb_pos</span> = strpos(<span class="variable">$content</span>, <span class="string">'['</span>);</div><div class="line">		<span class="keyword">if</span> (<span class="variable">$cb_pos</span> === <span class="keyword">false</span> &amp;&amp; <span class="variable">$sb_pos</span> === <span class="keyword">false</span>) html_error(<span class="string">'Json start braces not found.'</span>);</div><div class="line">		<span class="variable">$sb</span> = (<span class="variable">$cb_pos</span> === <span class="keyword">false</span> || <span class="variable">$sb_pos</span> &lt; <span class="variable">$cb_pos</span>) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div><div class="line">		<span class="variable">$content</span> = substr(<span class="variable">$content</span>, strpos(<span class="variable">$content</span>, (<span class="variable">$sb</span> ? <span class="string">'['</span> : <span class="string">'{'</span>)));<span class="variable">$content</span> = substr(<span class="variable">$content</span>, <span class="number">0</span>, strrpos(<span class="variable">$content</span>, (<span class="variable">$sb</span> ? <span class="string">']'</span> : <span class="string">'}'</span>)) + <span class="number">1</span>);</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$content</span>)) html_error(<span class="string">'No json content.'</span>);</div><div class="line">		<span class="variable">$rply</span> = json_decode(<span class="variable">$content</span>, <span class="keyword">true</span>);</div><div class="line">		<span class="keyword">if</span> (!<span class="variable">$rply</span> || count(<span class="variable">$rply</span>) == <span class="number">0</span>) html_error(<span class="string">'Error reading json.'</span>);</div><div class="line">		<span class="keyword">return</span> <span class="variable">$rply</span>;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">base64url_decode</span><span class="params">(<span class="variable">$data</span>)</span> </span>{</div><div class="line">		<span class="keyword">if</span> ((<span class="variable">$s</span> = (<span class="number">2</span> - strlen(<span class="variable">$data</span>) * <span class="number">3</span>) % <span class="number">4</span>) &lt; <span class="number">2</span>) <span class="variable">$data</span> .= substr(<span class="string">',,'</span>, <span class="variable">$s</span>);</div><div class="line">		<span class="keyword">return</span> base64_decode(strtr(<span class="variable">$data</span>, <span class="string">'-_,'</span>, <span class="string">'+/='</span>));</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">base64_to_a32</span><span class="params">(<span class="variable">$s</span>)</span> </span>{</div><div class="line">		<span class="keyword">return</span> <span class="variable">$this</span>-&gt;str_to_a32(<span class="variable">$this</span>-&gt;base64url_decode(<span class="variable">$s</span>));</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">str_to_a32</span><span class="params">(<span class="variable">$b</span>)</span> </span>{</div><div class="line">		<span class="comment">// Add padding, we need a string with a length multiple of 4</span></div><div class="line">		<span class="variable">$b</span> = str_pad(<span class="variable">$b</span>, <span class="number">4</span> * ceil(strlen(<span class="variable">$b</span>) / <span class="number">4</span>), <span class="string">"\0"</span>);</div><div class="line">		<span class="keyword">return</span> array_values(unpack(<span class="string">'N*'</span>, <span class="variable">$b</span>));</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">a32_to_str</span><span class="params">(<span class="variable">$hex</span>)</span> </span>{</div><div class="line">		<span class="keyword">return</span> call_user_func_array(<span class="string">'pack'</span>, array_merge(<span class="keyword">array</span>(<span class="string">'N*'</span>), <span class="variable">$hex</span>));</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">aes_cbc_decrypt</span><span class="params">(<span class="variable">$data</span>, <span class="variable">$key</span>)</span> </span>{</div><div class="line">		<span class="keyword">return</span> mcrypt_decrypt(MCRYPT_RIJNDAEL_128, <span class="variable">$key</span>, <span class="variable">$data</span>, MCRYPT_MODE_CBC, <span class="string">"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"</span>);</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">dec_attr</span><span class="params">(<span class="variable">$attr</span>, <span class="variable">$key</span>)</span> </span>{</div><div class="line">		<span class="variable">$attr</span> = trim(<span class="variable">$this</span>-&gt;aes_cbc_decrypt(<span class="variable">$attr</span>, <span class="variable">$this</span>-&gt;a32_to_str(<span class="variable">$key</span>)));</div><div class="line">		<span class="keyword">if</span> (substr(<span class="variable">$attr</span>, <span class="number">0</span>, <span class="number">6</span>) != <span class="string">'MEGA{"'</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">		<span class="variable">$attr</span> = substr(<span class="variable">$attr</span>, <span class="number">4</span>);<span class="variable">$attr</span> = substr(<span class="variable">$attr</span>, <span class="number">0</span>, strrpos(<span class="variable">$attr</span>, <span class="string">'}'</span>) + <span class="number">1</span>);</div><div class="line">		<span class="keyword">return</span> <span class="variable">$this</span>-&gt;Get_Reply(<span class="variable">$attr</span>);</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">CheckBack</span><span class="params">(<span class="variable">$header</span>)</span> </span>{</div><div class="line">		<span class="variable">$statuscode</span> = intval(substr(<span class="variable">$header</span>, <span class="number">9</span>, <span class="number">3</span>));</div><div class="line">		<span class="keyword">if</span> (<span class="variable">$statuscode</span> != <span class="number">200</span>) <span class="keyword">switch</span> (<span class="variable">$statuscode</span>) {</div><div class="line">			<span class="keyword">case</span> <span class="number">509</span>: html_error(<span class="string">'[Mega] Transfer quota exeeded.'</span>);</div><div class="line">			<span class="keyword">case</span> <span class="number">503</span>: html_error(<span class="string">'Too many connections for this download.'</span>);</div><div class="line">			<span class="keyword">case</span> <span class="number">403</span>: html_error(<span class="string">'Link used/expired.'</span>);</div><div class="line">			<span class="keyword">case</span> <span class="number">404</span>: html_error(<span class="string">'Link expired.'</span>);</div><div class="line">			<span class="keyword">default</span> : html_error(<span class="string">'[HTTP] '</span>.trim(substr(<span class="variable">$header</span>, <span class="number">9</span>, strpos(<span class="variable">$header</span>, <span class="string">"\n"</span>) - <span class="number">8</span>)));</div><div class="line">		}</div><div class="line"></div><div class="line">		<span class="keyword">global</span> <span class="variable">$fp</span>;</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$fp</span>) || !is_resource(<span class="variable">$fp</span>)) html_error(<span class="string">"Error: Your rapidleech version is outdated and it doesn't support this plugin."</span>);</div><div class="line">		<span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">'T8'</span>][<span class="string">'fkey'</span>])) <span class="variable">$key</span> = <span class="variable">$this</span>-&gt;base64_to_a32(urldecode(<span class="variable">$_GET</span>[<span class="string">'T8'</span>][<span class="string">'fkey'</span>]));</div><div class="line">		<span class="keyword">elseif</span> (preg_match(<span class="string">'@^!([^!]{8})!([\w\-\,]{43})$@i'</span>, parse_url(<span class="variable">$_GET</span>[<span class="string">'referer'</span>], PHP_URL_FRAGMENT), <span class="variable">$dat</span>)) <span class="variable">$key</span> = <span class="variable">$this</span>-&gt;base64_to_a32(<span class="variable">$dat</span>[<span class="number">2</span>]);</div><div class="line">		<span class="keyword">else</span> html_error(<span class="string">"[CB] File's key not found."</span>);</div><div class="line"></div><div class="line">		<span class="variable">$iv</span> = array_merge(array_slice(<span class="variable">$key</span>, <span class="number">4</span>, <span class="number">2</span>), <span class="keyword">array</span>(<span class="number">0</span>, <span class="number">0</span>));</div><div class="line">		<span class="variable">$key</span> = <span class="keyword">array</span>(<span class="variable">$key</span>[<span class="number">0</span>] ^ <span class="variable">$key</span>[<span class="number">4</span>], <span class="variable">$key</span>[<span class="number">1</span>] ^ <span class="variable">$key</span>[<span class="number">5</span>], <span class="variable">$key</span>[<span class="number">2</span>] ^ <span class="variable">$key</span>[<span class="number">6</span>], <span class="variable">$key</span>[<span class="number">3</span>] ^ <span class="variable">$key</span>[<span class="number">7</span>]);</div><div class="line">		<span class="variable">$opts</span> = <span class="keyword">array</span>(<span class="string">'iv'</span> =&gt; <span class="variable">$this</span>-&gt;a32_to_str(<span class="variable">$iv</span>), <span class="string">'key'</span> =&gt; <span class="variable">$this</span>-&gt;a32_to_str(<span class="variable">$key</span>), <span class="string">'mode'</span> =&gt; <span class="string">'ctr'</span>);</div><div class="line">		stream_filter_register(<span class="string">'MegaDlDecrypt'</span>, <span class="string">'Th3822_MegaDlDecrypt'</span>);</div><div class="line">		stream_filter_prepend(<span class="variable">$fp</span>, <span class="string">'MegaDlDecrypt'</span>, STREAM_FILTER_READ, <span class="variable">$opts</span>);</div><div class="line">	}</div><div class="line">}</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Th3822_MegaDlDecrypt</span> <span class="keyword">extends</span> <span class="title">php_user_filter</span> </span>{</div><div class="line">	<span class="keyword">private</span> <span class="variable">$_td</span>, <span class="variable">$_data</span>, <span class="variable">$_dlen</span>, <span class="variable">$_clen</span>, <span class="variable">$bucket</span>;</div><div class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">onCreate</span><span class="params">()</span> </span>{</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$this</span>-&gt;params[<span class="string">'iv'</span>]) || <span class="keyword">empty</span>(<span class="variable">$this</span>-&gt;params[<span class="string">'key'</span>]) || <span class="keyword">empty</span>(<span class="variable">$this</span>-&gt;params[<span class="string">'mode'</span>])) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">		<span class="variable">$this</span>-&gt;_td = mcrypt_module_open(<span class="string">'rijndael-128'</span>, <span class="string">''</span>, <span class="variable">$this</span>-&gt;params[<span class="string">'mode'</span>], <span class="string">''</span>);</div><div class="line">		<span class="variable">$init</span> = mcrypt_generic_init(<span class="variable">$this</span>-&gt;_td, <span class="variable">$this</span>-&gt;params[<span class="string">'key'</span>], <span class="variable">$this</span>-&gt;params[<span class="string">'iv'</span>]);</div><div class="line">		<span class="keyword">if</span> (<span class="variable">$init</span> === <span class="keyword">false</span> || <span class="variable">$init</span> &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">filter</span><span class="params">(<span class="variable">$in</span>, <span class="variable">$out</span>, &amp;<span class="variable">$consumed</span>, <span class="variable">$stop</span>)</span> </span>{</div><div class="line">		<span class="keyword">while</span> (<span class="variable">$bucket</span> = stream_bucket_make_writeable(<span class="variable">$in</span>)) {</div><div class="line">			<span class="keyword">if</span> (<span class="variable">$bucket</span>-&gt;datalen == <span class="number">0</span>) <span class="keyword">continue</span>;</div><div class="line">			<span class="variable">$this</span>-&gt;bucket = <span class="variable">$bucket</span>;</div><div class="line">			<span class="variable">$this</span>-&gt;bucket-&gt;data = mdecrypt_generic(<span class="variable">$this</span>-&gt;_td, <span class="variable">$this</span>-&gt;bucket-&gt;data);</div><div class="line">			<span class="variable">$consumed</span> += <span class="variable">$bucket</span>-&gt;datalen;</div><div class="line">			stream_bucket_append(<span class="variable">$out</span>, <span class="variable">$this</span>-&gt;bucket);</div><div class="line">		}</div><div class="line">		<span class="keyword">return</span> PSFS_PASS_ON;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">onClose</span><span class="params">()</span> </span>{</div><div class="line">		mcrypt_generic_deinit(<span class="variable">$this</span>-&gt;_td);</div><div class="line">		mcrypt_module_close(<span class="variable">$this</span>-&gt;_td);</div><div class="line">	}</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//[24-2-2013] Written by Th3-822. (Rapidleech r415 or newer required)</span></div><div class="line"><span class="comment">//[02-3-2013] Added "checks" for validating rapidleech version &amp; added 2 error msg. - Th3-822</span></div><div class="line"><span class="comment">//[27-3-2013] Simplified Stream decrypt function (The other one was not working well... After many tests looks like it's better now :D). - Th3-822</span></div><div class="line"></div><div class="line"><span class="preprocessor">?&gt;</span></div></pre></td></tr></table></figure>

<p>PS:配合cookies可以下载各种站点的东西….比如迅雷就可以(但迅雷还是推荐aria2,比较方便</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span id="pv-float-bar-container" style="top: 131px; right: 131px; display: none;"></span></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.ainhaato.moe/setup-rapidleech-with-mega-plugin/" data-id="wg5oso0dmi06azp3" class="article-share-link">Share</a>
      
        <a href="http://blog.ainhaato.moe/setup-rapidleech-with-mega-plugin/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MEGA/">MEGA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rapidleech/">Rapidleech</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/download/">download</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/下载/">下载</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/网盘/">网盘</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/transmission-solved-permission-denied/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          解决transmission下载or校验过程中出现permission denied
        
      </div>
    </a>
  
  
    <a href="/bencode-editor/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">BT、PT必备工具 - BEncode Editor</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/acg/">动漫相关</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/share/">资源分享</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最近发表</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/proxychains-socks5-shell/">利用proxychains在终端使用socks5代理</a>
          </li>
        
          <li>
            <a href="/moemoe/">换了个域名，我也要萌萌哒~</a>
          </li>
        
          <li>
            <a href="/Aoharaido-OP/">青春之旅OP - 世界は恋に落ちている【附nice翻唱】</a>
          </li>
        
          <li>
            <a href="/iScript/">python实用脚本集 - iScript</a>
          </li>
        
          <li>
            <a href="/noir/">补番进行时 - Noir</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/2014/" style="font-size: 10.00px;">2014</a><a href="/tags/2014春/" style="font-size: 10.00px;">2014春</a><a href="/tags/Anime/" style="font-size: 10.00px;">Anime</a><a href="/tags/BDMV/" style="font-size: 10.00px;">BDMV</a><a href="/tags/BEncode/" style="font-size: 10.00px;">BEncode</a><a href="/tags/Blu-ray/" style="font-size: 10.00px;">Blu-ray</a><a href="/tags/GM脚本/" style="font-size: 10.00px;">GM脚本</a><a href="/tags/GPT/" style="font-size: 10.00px;">GPT</a><a href="/tags/MEGA/" style="font-size: 10.00px;">MEGA</a><a href="/tags/Noir/" style="font-size: 10.00px;">Noir</a><a href="/tags/Picpar/" style="font-size: 10.00px;">Picpar</a><a href="/tags/Rapidleech/" style="font-size: 10.00px;">Rapidleech</a><a href="/tags/WIN7/" style="font-size: 10.00px;">WIN7</a><a href="/tags/activate/" style="font-size: 10.00px;">activate</a><a href="/tags/aria2/" style="font-size: 10.00px;">aria2</a><a href="/tags/bash/" style="font-size: 10.00px;">bash</a><a href="/tags/centos/" style="font-size: 20.00px;">centos</a><a href="/tags/css/" style="font-size: 10.00px;">css</a><a href="/tags/download/" style="font-size: 18.33px;">download</a><a href="/tags/dropbox/" style="font-size: 10.00px;">dropbox</a><a href="/tags/firefox/" style="font-size: 10.00px;">firefox</a><a href="/tags/greasemonkey/" style="font-size: 11.67px;">greasemonkey</a><a href="/tags/http/" style="font-size: 10.00px;">http</a><a href="/tags/libev/" style="font-size: 10.00px;">libev</a><a href="/tags/libtorrent/" style="font-size: 10.00px;">libtorrent</a><a href="/tags/linux/" style="font-size: 16.67px;">linux</a><a href="/tags/moe/" style="font-size: 10.00px;">moe</a><a href="/tags/nodejs/" style="font-size: 10.00px;">nodejs</a><a href="/tags/opening/" style="font-size: 10.00px;">opening</a><a href="/tags/p2p/" style="font-size: 18.33px;">p2p</a><a href="/tags/proxifier/" style="font-size: 10.00px;">proxifier</a><a href="/tags/proxy/" style="font-size: 15.00px;">proxy</a><a href="/tags/proxychains/" style="font-size: 10.00px;">proxychains</a><a href="/tags/python/" style="font-size: 11.67px;">python</a><a href="/tags/rtorrent/" style="font-size: 10.00px;">rtorrent</a><a href="/tags/rutorrent/" style="font-size: 10.00px;">rutorrent</a><a href="/tags/script/" style="font-size: 10.00px;">script</a><a href="/tags/scripts/" style="font-size: 10.00px;">scripts</a><a href="/tags/shadowsocks/" style="font-size: 13.33px;">shadowsocks</a><a href="/tags/shell/" style="font-size: 10.00px;">shell</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a><span class="archive-list-count">7</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://lintk.me/" target="_blank">TrickLin</a>
          </li>
        
          <li>
            <a href="http://tennsinn.com/" target="_blank">陨落天心</a>
          </li>
        
          <li>
            <a href="http://ippotsuko.com/" target="_blank">一方通行</a>
          </li>
        
          <li>
            <a href="http://blog.ushiromiyabatora.com/" target="_blank">猫箱内の六轩岛</a>
          </li>
        
          <li>
            <a href="http://blog.hentai.re/" target="_blank">WiseHou&#39;s Blog</a>
          </li>
        
          <li>
            <a href="http://bropaul.com/" target="_blank">BroPaul</a>
          </li>
        
          <li>
            <a href="http://moonlib.com/" target="_blank">Moonlib</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Ainhaato<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/hexojs/hexo-theme-landscape" target="_blank">Landscape</a>
      .
      Hosted on <a href="https://github.com/" target="_blank">GitHub</a> & <a href="https://gitcafe.com/" target="_blank">GitCafe</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/links" class="mobile-nav-link">Friends</a>
  
    <a href="/guestbook" class="mobile-nav-link">GuestBook</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'Ainhaato';
  
  var disqus_url = 'http://blog.ainhaato.moe/setup-rapidleech-with-mega-plugin/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//libs.useso.com/js/jquery/2.0.3/jquery.min.js"></script>

<script src="/mediaelement/mediaelement-and-player.min.js"></script>
<script>
$('video,audio').mediaelementplayer({
// if the <video width> is not specified, this is the default
// 缺省视频宽度，如果没有指定则默认使用此处的值
defaultVideoWidth: 480,
// if the <video height> is not specified, this is the default
// 缺省视频高度，如果没有指定则默认使用此处的值
defaultVideoHeight: 270,
// if set, overrides <video width>
// 字面上理解应该是设置了这个值，
// 就会覆盖 <video> 里设置的宽度而采用此处的值，
// 但是 Hexo 里貌似无效，都会自动缩放到最适合比例
videoWidth: -1,
// if set, overrides <video height>
// 同上
videoHeight: -1,
// width of audio player
// 音频播放器宽度
audioWidth: 400,
// height of audio player
// 音频播放器高度
audioHeight: 30,
// initial volume when the player starts
// 初始化音量大小，0.8 就表示 80%
startVolume: 0.8,
// useful for <audio> player loops
// 开启循环，通常在 <audio> 下较常用
loop: false,
// enables Flash and Silverlight to resize to content size
// 允许 Flash 或者 SilverLight 重新调整播放器大小
enableAutosize: true,
// the order of controls you want on the control bar (and other plugins below)
// 控制菜单选项
features: ['playpause','progress','current','duration','tracks','volume','fullscreen'],
// Hide controls when playing and mouse is not over the video
// 是否总是显示控制菜单
alwaysShowControls: false,
// force iPad's native controls
// 强制 iPad 使用内建控制器
iPadUseNativeControls: false,
// force iPhone's native controls
// 强制 iPhone 使用内建控制器
iPhoneUseNativeControls: false,
// force Android's native controls
// 强制 Android 使用内建控制器
AndroidUseNativeControls: false,
// forces the hour marker (##:00:00)
// 强制显示小时数
alwaysShowHours: false,
// show framecount in timecode (##:00:00:00)
// 显示帧数
showTimecodeFrameCount: false,
// used when showTimecodeFrameCount is set to true
// 每秒帧数，仅当 showTimecodeFrameCount 为 True 时有效
framesPerSecond: 25,
// turns keyboard support on and off for this instance
// 为当前窗口实例提供键盘支持
enableKeyboard: true,
// when this player starts, it will pause other players
// 当前播放器开始播放后暂停所有其他的播放器
pauseOtherPlayers: true,
// array of keyboard commands
// 按键动作？应该是绑定按键之类的
keyActions: []
});
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>

<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;z-index:99999;">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>
<script src="/js/totop.js"></script>
  </div>
</body>
</html>